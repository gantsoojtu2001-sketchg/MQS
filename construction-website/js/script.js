// Language translations
const translations = {
  en: {
    // Header
    home: 'Home',
    services: 'Services',
    brands: 'Brands',
    projects: 'Projects',
    career: 'Career',
    careers_btn: 'Careers',
    contact_btn: 'Contact Us',
    
    // Home Page
    hero_title: 'Mongolian Quantity Surveyor LLC',
    hero_tagline: 'Trust in every project, quality in every solution',
    learn_more: 'Learn More',
    our_services: 'Our Services',
    
    // About Section
    about_title: 'About Us',
    about_text: 'Our company was established in 2016 and has been successfully operating in various fields including project implementation, construction equipment trading, repair and renovation services, and international trade. We are recognized as a reliable and experienced team in the industry, and our mission is to deliver effective, customer-centered solutions tailored to our clients\'nes.',
    
    // Services Overview
    services_title: 'Our Services',
    services_subtitle: 'Comprehensive solutions for all your construction needs',
    service_1: 'Project Management Consulting Services',
    service_1_desc: 'Professional planning and supervision of construction projects.',
    service_2: 'Construction Contractor and General Contractor',
    service_2_desc: 'Professional services delivered by a reliable and experienced team.',
    service_3: 'Construction Equipment and Building Materials Supply, Rental, and Maintenance Services',
    service_3_desc: 'High-quality equipment for efficient and reliable construction operations.',
    view_details: 'View Details',
    read_more: 'Read More',
    learn_more_btn: 'Learn More',
    
    // Core Values
    values_title: 'Our Core Values',
    values_subtitle: 'The foundation of our business',
    reliability: 'Reliability',
    reliability_desc: 'Consistent and dependable service in every project.',
    professionalism: 'Professionalism',
    professionalism_desc: 'Expert expertise and ethical business practices.',
    customer_service: 'Customer-Centered Service',
    customer_service_desc: 'Your satisfaction is our top priority.',
    
    // Mission, Vision, Values, Objectives
    mission_title: 'MISSION',
    mission_desc: 'To introduce international standards, precise engineering calculations, and responsible cost management into Mongolia\'s construction sector, delivering valuable and professional services to every client.',
    vision_title: 'VISION',
    vision_desc: 'To become Mongolia\'s leading and most trusted brand in construction estimating, project management, and trade—supported by strong international partnerships.',
    values_section_title: 'CORE VALUES',
    value_1: 'Transparency and accountability',
    value_2: 'Professional expertise and continuous development',
    value_3: 'Client-centered service',
    value_4: 'Quality and reliability',
    value_5: 'A commitment to showcasing Mongolian engineering excellence on the global stage',
    objectives_title: 'OBJECTIVES',
    objective_1: 'Expand the scope and impact of project management consultancy services',
    objective_2: 'Develop a competitive market for construction materials and equipment trade',
    objective_3: 'Improve the quality of maintenance services and enhance customer satisfaction',
    objective_4: 'Strengthen foreign trade channels and increase import–export capacity',
    
    // Services Page
    services_detailed: 'Detailed Services',
    services_page_subtitle: 'Explore our comprehensive service offerings',
    
    // Brands Page
    brands_title: 'Our Partner Brands',
    brands_subtitle: 'Trusted partnerships across the industry',
    brands_placeholder: 'Stay tuned — more partner brands will be added soon.',
    
    // Projects Page
    projects_title: 'Our Projects',
    projects_subtitle: 'Showcasing our expertise and achievements',
    projects_placeholder: 'Stay tuned — our projects will be showcased here soon.',
    
    // Career Page
    career_title: 'Join Our Team',
    career_subtitle: 'Build your career with us',
    active_positions: 'Active Job Openings',
    apply_now: 'Apply Now',
    apply: 'Apply',
    
    // Application Form
    form_title: 'Application Form',
    form_subtitle: 'Submit your application for a position',
    full_name: 'Name',
    email: 'Email Address',
    phone: 'Phone Number',
    position: 'Position Applied For',
    cv_upload: 'Upload Your CV (PDF, DOC, DOCX)',
    submit: 'Submit Application',
    reset: 'Reset',
    contact_form: 'Contact Form',
    
    // Footer
    footer_company: 'About Company',
    footer_services: 'Services',
    footer_contact: 'Contact',
    footer_follow: 'Follow Us',
    phone: 'Phone',
    email_label: 'Email',
    address: 'Address',
    all_rights: 'All Rights Reserved',
    
    // Placeholder content
    project_title: 'Construction Project',
    project_desc: 'High-quality construction delivered on time and within budget.',
  },
  mn: {
    // Header
    home: 'Нүүр',
    services: 'Үйлчилгээ',
    brands: 'Брэндүүд',
    projects: 'Төслүүд',
    career: 'Карьер',
    careers_btn: 'Карьер',
    contact_btn: 'Холбоо барих',
    
    // Home Page
    hero_title: 'Монголиан Куантити Сурвейор ХХК',
    hero_tagline: 'Төсөл бүрт итгэл, шийдэл бүрт чанар',
    learn_more: 'Дэлгэрэнгүй',
    our_services: 'Манай Үйлчилгээ',
    
    // About Section
    about_title: 'Бидний Тухай',
    about_text: 'Манай компани 2016 онд байгуулагдсан бөгөөд төслийн хэрэгжүүлэлт, барилгын тоног төхөөрөмжийн худалдаа, засвар үйлчилгээ, олон улсын худалдаа зэрэг салбарт амжилттай үйл ажиллагаа явуулж ирсэн. Бид найдвартай, туршлагатай хамт олон бөгөөд бидний зорилго нь үйлчлүүлэгчдийн хэрэгцээнд тохирсон үр дүнтэй, үйлчлүүлэгчдэд тохорсон шийдлүүдийг хангах явдал юм.',
    
    // Services Overview
    services_title: 'Бидний Үйлчилгээ',
    services_subtitle: 'Барилгын бүх хэрэгцээний нь цогц шийдлүүд',
    service_1: 'Төслийн менежментийн зөвлөх үйлчилгээ',
    service_1_desc: 'Барилгын төслүүдийн мэргэжлийн төлөвлөлт, хяналт.',
    service_2: 'Барилга угсралтын гүйцэтгэгч ба ерөнхий гүйцэтгэгч',
    service_2_desc: 'Мэргэжлийн үйлчилгээ, найдвартай хамт олон.',
    service_3: 'Барилгын тоног төхөөрөмж болон барилгын материал, түрээс, засвар үйлчилгээ',
    service_3_desc: 'Барилгын үйл ажиллагааны өндөр чанартай тоног төхөөрөмж.',
    view_details: 'Дэлгэрэнгүйг үзэх',
    read_more: 'Дэлгэрэнгүй',
    learn_more_btn: 'Дэлгэрэнгүй',
    
    // Core Values
    values_title: 'Бидний тухай',
    values_subtitle: 'Бидний бизнесийн суурь',
    reliability: 'Найдвартай байдал',
    reliability_desc: 'Төрөл бүрийн төслөөр тогтмол, найдвартай үйлчилгээ.',
    professionalism: 'Мэргэжлийн байдал',
    professionalism_desc: 'Мэргэжлийн мэдлэг ба ёс суртахууны бизнесийн арга.',
    customer_service: 'Үйлсчүүд төвлөрсөн үйлчилгээ',
    customer_service_desc: 'Таны сэтгэл ханаа нь бидний эхний эрэмбийн зорилго.',
    
    // Mission, Vision, Values, Objectives
    mission_title: 'ЭРХЭМ ЗОРИЛГО',
    mission_desc: 'Монголын барилгын салбарт олон улсын стандарт, нарийн тооцоолол, хариуцлагатай төсөвлөлтийг нэвтрүүлж, үйлчлүүлэгчдэд үнэ цэнтэй, мэргэжлийн үйлчилгээ үзүүлэх.',
    vision_title: 'АЛСЫН ХАРАА',
    vision_desc: 'Барилгын төсөв, менежмент, худалдааны салбарт Монголдоо тэргүүлэгч, олон улсын түншлэл бүхий итгэлтэй брэнд болон хөгжих.',
    values_section_title: 'ҮНЭТ ЗҮЙЛС',
    value_1: 'Ил тод байдал ба хариуцлага',
    value_2: 'Мэргэжлийн ур чадвар ба тасралтгүй хөгжил',
    value_3: 'Үйлчлүүлэгч төвтэй хандлага',
    value_4: 'Чанар, найдвартай байдал',
    value_5: 'Монгол инженерчлэлийн нэр хүндийг дэлхийд таниулах эрмэлзэл',
    objectives_title: 'ЗОРИЛГО',
    objective_1: 'Төслийн менежментийн зөвлөгөөний цар хүрээг өргөжүүлэх',
    objective_2: 'Барилгын материал, тоног төхөөрөмжийн худалдааг өрсөлдөхүйц түвшинд хүргэх',
    objective_3: 'Засвар үйлчилгээний чанарыг сайжруулж, хэрэглэгчийн сэтгэл ханамжийг нэмэгдүүлэх',
    objective_4: 'Гадаад худалдааны сувгуудыг өргөтгөж, импорт-экспортын чадамжийг нэмэгдүүлэх',
    
    // Services Page
    services_detailed: 'Бидний үйлчилгээ',
    services_page_subtitle: 'Танд санал болгож буй үйлчилгээнүүд',
    
    // Brands Page
    brands_title: 'Хамтран Ажилладаг Брэндүүд',
    brands_subtitle: 'Салбарын шилдэг мэргэжилтнүүдтэй хамтын ажиллагаа',
    brands_placeholder: 'Санаа авч байна — тун удахгүй илүү олон брэнд нэмэгдэх болно.',
    
    // Projects Page
    projects_title: 'Манай Төслүүд',
    projects_subtitle: 'Бидний ололт ба амжилтууд',
    projects_placeholder: 'Санаа авч байна — манай төслүүдийг удахгүй харуулах болно.',
    
    // Career Page
    career_title: 'Манай Багтай Нэгдээрэй',
    career_subtitle: 'Бидэнтэй карьер бүтээгээрэй',
    active_positions: 'Идэвхтэй Ажлын Байр',
    apply_now: 'Одоо Өргөдөл',
    apply: 'Өргөдөл',
    
    // Application Form
    form_title: 'Өргөдлийн Маягт',
    form_subtitle: 'Ажлын байрны өргөдлөө илгээнэ үү.',
    full_name: 'Нэр',
    email: 'Имэйл Хаяг',
    phone: 'Утасны Дугаар',
    position: 'Өргөдөл Гаргасан Ажлын Байр',
    cv_upload: 'CV Илгээх (PDF, DOC, DOCX)',
    submit: 'Өргөдөл Илгээх',
    reset: 'Цэвэрлэх',
    contact_form: 'Холбоо барих маягт',
    
    // Footer
    footer_company: 'Компаний Тухай',
    footer_services: 'Үйлчилгээ',
    footer_contact: 'Холбоо',
    footer_follow: 'Биднийг Дагаж Байгаарай',
    phone: 'Утас',
    email_label: 'Имэйл',
    address: 'Хаяг',
    all_rights: 'All right reserved',
    
    // Placeholder content
    project_title: 'Барилгын Төсөл',
    project_desc: 'Цаг хугацаа, төсвийн хүрээнд хүргүүлсэн өндөр чанартай барилга.',
  }
};

// Current language state
let currentLanguage = 'en';

// Initialize page on load
document.addEventListener('DOMContentLoaded', function() {
  initializeLanguageToggle();
  setActiveNavLink();
  setupScrollAnimations();
  loadSavedLanguage();
  switchLanguage(currentLanguage);
});

// Load saved language preference
function loadSavedLanguage() {
  const saved = localStorage.getItem('selectedLanguage');
  if (saved && saved !== currentLanguage) {
    switchLanguage(saved);
  }
}

// Initialize language toggle buttons
function initializeLanguageToggle() {
  const langBtns = document.querySelectorAll('.lang-btn');
  langBtns.forEach(btn => {
    btn.addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      const lang = this.getAttribute('data-lang');
      switchLanguage(lang);
    });
  });
}

// Switch language
function switchLanguage(lang) {
  currentLanguage = lang;
  localStorage.setItem('selectedLanguage', lang);
  
  // Update all elements with data-i18n attribute
  const elements = document.querySelectorAll('[data-i18n]');
  elements.forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (translations[lang] && translations[lang][key]) {
      if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
        el.placeholder = translations[lang][key];
      } else {
        el.textContent = translations[lang][key];
      }
    }
  });
  
  // Update language-specific content visibility
  const langContents = document.querySelectorAll('.lang-content');
  langContents.forEach(content => {
    content.classList.remove('active');
    if (content.classList.contains(lang)) {
      content.classList.add('active');
    }
  });
  
  // Update language button states
  const langBtns = document.querySelectorAll('.lang-btn');
  langBtns.forEach(btn => {
    btn.classList.remove('active');
    if (btn.getAttribute('data-lang') === lang) {
      btn.classList.add('active');
    }
  });
}

// Set active navigation link
function setActiveNavLink() {
  const currentPage = window.location.pathname.split('/').pop() || 'index.html';
  const navLinks = document.querySelectorAll('nav a');
  
  navLinks.forEach(link => {
    const href = link.getAttribute('href');
    if (href === currentPage || (currentPage === '' && href === 'index.html')) {
      link.classList.add('active');
    } else {
      link.classList.remove('active');
    }
  });
}

// Setup scroll animations
function setupScrollAnimations() {
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };
  
  const observer = new IntersectionObserver(function(entries) {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('fade-in');
        observer.unobserve(entry.target);
      }
    });
  }, observerOptions);
  
  // Observe cards, values, and other elements
  const elements = document.querySelectorAll('.card, .value-box, .project-card, .job-card, .brand-card, .service-detail');
  elements.forEach(el => {
    observer.observe(el);
  });
}

// Smooth scroll for anchor links
document.addEventListener('click', function(e) {
  if (e.target.tagName === 'A' && e.target.getAttribute('href').startsWith('#')) {
    e.preventDefault();
    const target = document.querySelector(e.target.getAttribute('href'));
    if (target) {
      target.scrollIntoView({ behavior: 'smooth' });
    }
  }
});

// Form submission handling
function handleFormSubmit(e) {
  if (e.target.tagName === 'FORM') {
    e.preventDefault();
    alert('Thank you for your submission! We will review your application soon.');
    e.target.reset();
  }
}

document.addEventListener('submit', handleFormSubmit);

// Prevent default form submissions for demo
document.querySelectorAll('form').forEach(form => {
  form.addEventListener('submit', function(e) {
    e.preventDefault();
    const t = translations[currentLanguage];
    alert(t.submit || 'Thank you for your submission!');
    this.reset();
  });
});

// Helper function to get translation
function t(key) {
  return translations[currentLanguage][key] || translations['en'][key] || key;
}

// Export for use in HTML
window.t = t;
window.switchLanguage = switchLanguage;
